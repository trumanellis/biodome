<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 760 640">
  <defs>
    <style>
      .label { font-family: -apple-system, system-ui, sans-serif; fill: #1a2e1a; font-size: 12px; }
      .label-sm { font-family: -apple-system, system-ui, sans-serif; fill: #555; font-size: 11px; }
      .dim { font-family: -apple-system, system-ui, sans-serif; fill: #c9a227; font-size: 12px; font-weight: 600; }
      .dim-line { stroke: #c9a227; stroke-width: 1; fill: none; }
      .ring-fill { fill: #d5cfc5; stroke: #1a2e1a; stroke-width: 1.5; }
      .ring-inner { fill: #faf8f5; }
      .socket { fill: #1a2e1a; }
      .socket-skip { fill: none; stroke: #1a2e1a; stroke-width: 1.5; stroke-dasharray: 3,3; }
      .center-mark { stroke: #c9a227; stroke-width: 1; }
      .door-zone { fill: #c9a227; opacity: 0.15; }
      .compass { font-family: -apple-system, system-ui, sans-serif; fill: #2d4a2d; font-size: 13px; font-weight: 700; }
      .drain-pipe { fill: none; stroke: #666; stroke-width: 2; stroke-dasharray: 8,4; }
      .drain-label { font-family: -apple-system, system-ui, sans-serif; fill: #666; font-size: 11px; }
      .flow-arrow { fill: #666; stroke: none; }
    </style>
    <marker id="arr-s" markerWidth="8" markerHeight="6" refX="0" refY="3" orient="auto">
      <path d="M8,0 L0,3 L8,6" stroke="#c9a227" fill="none" stroke-width="1"/>
    </marker>
    <marker id="arr-e" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6" stroke="#c9a227" fill="none" stroke-width="1"/>
    </marker>
    <marker id="flow-e" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6" fill="#666" stroke="none"/>
    </marker>
  </defs>

  <!-- Title -->
  <text x="380" y="24" text-anchor="middle" class="label" style="font-size:15px; font-weight:700;">Foundation Plan View — Gabion Ring with Pole Sockets</text>

  <!-- Center of dome at (380, 310) -->
  <!-- 6m diameter = 250px radius (1m = 83.3px) -->
  <!-- Inner edge at 2.6m = 217px radius -->

  <!-- Gabion ring (outer circle minus inner circle) -->
  <circle cx="380" cy="310" r="250" class="ring-fill"/>
  <circle cx="380" cy="310" r="217" class="ring-inner"/>
  <circle cx="380" cy="310" r="217" fill="none" stroke="#1a2e1a" stroke-width="1.5"/>

  <!-- Door opening zone highlight -->
  <path d="M380,310 L611,406 A250,250 0 0,0 611,214 L580,227 A217,217 0 0,1 580,393 Z" class="door-zone"/>

  <!-- Perforated drain pipe ring (at midpoint of gabion wall, r=233) -->
  <circle cx="380" cy="310" r="233" class="drain-pipe"/>

  <!-- Outlet pipe: exits ring at ~258° (south-southwest) toward lowest grade -->
  <!-- 258° from center: cos(258°)=-0.208, sin(258°)=-0.978 (SVG y inverted so +) -->
  <!-- At r=250: x=380+(-0.208*250)=328, y=310+(0.978*250)=555 -->
  <!-- Outlet extends outward ~40px more -->
  <line x1="328" y1="555" x2="318" y2="595" stroke="#666" stroke-width="2.5"/>
  <!-- Arrowhead at outlet end -->
  <polygon points="318,595 312,585 324,585" class="flow-arrow"/>

  <!-- Flow direction arrows on the pipe ring, pointing toward outlet -->
  <!-- Arrow 1: on the east side of ring, ~330° position, pointing clockwise toward outlet -->
  <!-- 330° on ring: x=380+cos(330°)*233=380+202=582, y=310-sin(330°)*233=310+117=427 -->
  <!-- Arrow pointing clockwise (toward lower-left along ring) -->
  <polygon points="556,455 566,448 560,460" class="flow-arrow"/>
  <!-- Arrow 2: on the west side of ring, ~190° position, pointing counter-clockwise toward outlet -->
  <!-- 190° on ring: x=380+cos(190°)*233=380-229=151, y=310-sin(190°)*233=310+40=350 -->
  <polygon points="155,380 145,374 149,386" class="flow-arrow"/>

  <!-- 17 Pole sockets (16 at equal spacing + 1 extra at back for fanning pair) -->
  <!-- Socket 1: 0° (DOOR - skipped) -->
  <circle cx="613" cy="310" r="7" class="socket-skip"/>
  <!-- Socket 2: 22.5° (door-flanking) -->
  <circle cx="595" cy="221" r="7" class="socket"/>
  <!-- Socket 3: 45° -->
  <circle cx="545" cy="145" r="7" class="socket"/>
  <!-- Socket 4: 67.5° -->
  <circle cx="469" cy="91" r="7" class="socket"/>
  <!-- Socket 5: 90° (North) -->
  <circle cx="380" cy="77" r="7" class="socket"/>
  <!-- Socket 6: 112.5° -->
  <circle cx="291" cy="91" r="7" class="socket"/>
  <!-- Socket 7: 135° -->
  <circle cx="215" cy="145" r="7" class="socket"/>
  <!-- Socket 8: 157.5° -->
  <circle cx="165" cy="221" r="7" class="socket"/>
  <!-- Socket 9a: ~175° (fanning pair butt — north side) -->
  <circle cx="148" cy="290" r="7" class="socket"/>
  <!-- Socket 9b: ~185° (fanning pair butt — south side) -->
  <circle cx="148" cy="330" r="7" class="socket"/>
  <!-- Socket 10: 202.5° -->
  <circle cx="165" cy="399" r="7" class="socket"/>
  <!-- Socket 11: 225° -->
  <circle cx="215" cy="475" r="7" class="socket"/>
  <!-- Socket 12: 247.5° -->
  <circle cx="291" cy="529" r="7" class="socket"/>
  <!-- Socket 13: 270° (South) -->
  <circle cx="380" cy="543" r="7" class="socket"/>
  <!-- Socket 14: 292.5° -->
  <circle cx="469" cy="529" r="7" class="socket"/>
  <!-- Socket 15: 315° -->
  <circle cx="545" cy="475" r="7" class="socket"/>
  <!-- Socket 16: 337.5° (door-flanking) -->
  <circle cx="595" cy="399" r="7" class="socket"/>

  <!-- Center mark (crosshair) -->
  <line x1="370" y1="310" x2="390" y2="310" class="center-mark"/>
  <line x1="380" y1="300" x2="380" y2="320" class="center-mark"/>
  <circle cx="380" cy="310" r="3" fill="none" stroke="#c9a227" stroke-width="1"/>

  <!-- Door label -->
  <text x="660" y="260" class="label" style="font-weight:600;">DOOR</text>
  <text x="660" y="274" class="label-sm">skip 1 socket</text>
  <line x1="655" y1="270" x2="632" y2="305" stroke="#1a2e1a" stroke-width="0.8" opacity="0.5"/>

  <!-- Drain pipe label (along ring, ~135° position where there's space) -->
  <text x="170" y="155" class="drain-label" style="font-style:italic;">perforated drain pipe</text>
  <line x1="210" y1="158" x2="218" y2="170" stroke="#666" stroke-width="0.6" opacity="0.6"/>

  <!-- Outlet label -->
  <text x="210" y="590" class="drain-label" style="font-weight:600;">outlet to daylight</text>
  <line x1="305" y1="586" x2="318" y2="592" stroke="#666" stroke-width="0.6" opacity="0.6"/>

  <!-- Outlet note (italic) -->
  <text x="210" y="605" class="drain-label" style="font-style:italic; font-size:10px;">Outlet at lowest grade point</text>

  <!-- Compass rose -->
  <text x="380" y="55" text-anchor="middle" class="compass">N</text>
  <line x1="380" y1="58" x2="380" y2="70" stroke="#2d4a2d" stroke-width="1.5" marker-end="url(#arr-e)"/>
  <text x="380" y="575" text-anchor="middle" class="compass">S</text>
  <text x="660" y="314" text-anchor="start" class="compass">E</text>
  <text x="95" y="314" text-anchor="end" class="compass">W</text>

  <!-- DIMENSION: Outer diameter (6m) -->
  <line x1="130" y1="310" x2="86" y2="310" stroke="#c9a227" stroke-width="0.5" stroke-dasharray="2,3"/>
  <line x1="630" y1="310" x2="674" y2="310" stroke="#c9a227" stroke-width="0.5" stroke-dasharray="2,3"/>
  <line x1="80" y1="60" x2="80" y2="560" class="dim-line" marker-start="url(#arr-s)" marker-end="url(#arr-e)"/>
  <text x="77" y="310" text-anchor="end" class="dim" style="font-size:13px;" transform="rotate(-90 77 310)">6m outer diameter</text>

  <!-- DIMENSION: Ring width (40cm) -->
  <line x1="380" y1="60" x2="380" y2="77" stroke="#c9a227" stroke-width="0.5" stroke-dasharray="2,3"/>
  <line x1="380" y1="60" x2="380" y2="93" stroke="#c9a227" stroke-width="0.5" stroke-dasharray="2,3"/>
  <line x1="355" y1="63" x2="355" y2="97" class="dim-line"/>
  <text x="352" y="50" text-anchor="end" class="dim" style="font-size:10px;">40cm ring</text>
  <text x="352" y="62" text-anchor="end" class="dim" style="font-size:10px;">width</text>

  <!-- Socket spacing label -->
  <path d="M540,152 A233,233 0 0,0 475,96" fill="none" stroke="#c9a227" stroke-width="1" stroke-dasharray="3,3"/>
  <text x="520" y="108" class="dim" style="font-size:10px;">~1.18m</text>
  <text x="520" y="120" class="dim" style="font-size:10px;">spacing</text>

  <!-- Legend -->
  <circle cx="60" cy="622" r="6" class="socket"/>
  <text x="72" y="626" class="label-sm">Pole socket (16 active)</text>
  <circle cx="260" cy="622" r="6" class="socket-skip"/>
  <text x="272" y="626" class="label-sm">Skipped for door (1)</text>
  <rect x="445" y="616" width="14" height="14" rx="2" fill="#c9a227" opacity="0.15" stroke="#c9a227" stroke-width="1"/>
  <text x="465" y="626" class="label-sm">Door opening zone</text>
  <!-- New legend entry: drain pipe -->
  <line x1="53" y1="638" x2="73" y2="638" stroke="#666" stroke-width="2" stroke-dasharray="8,4"/>
  <text x="80" y="641" class="label-sm">Drain pipe (perforated)</text>
</svg>

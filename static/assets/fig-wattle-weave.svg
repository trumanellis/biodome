<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 760 440">
  <defs>
    <style>
      .label { font-family: -apple-system, system-ui, sans-serif; fill: #1a2e1a; font-size: 12px; }
      .label-sm { font-family: -apple-system, system-ui, sans-serif; fill: #555; font-size: 11px; }
      .title { font-family: -apple-system, system-ui, sans-serif; fill: #1a2e1a; font-size: 15px; font-weight: 700; }
      .arch-pole { fill: #8b6914; stroke: #5a4510; stroke-width: 1.5; }
      .h-ring-a { fill: none; stroke: #1a2e1a; stroke-width: 5; stroke-linecap: round; }
      .h-ring-a-inner { fill: none; stroke: #a0842a; stroke-width: 3; stroke-linecap: round; }
      .h-ring-b { fill: none; stroke: #2d4a2d; stroke-width: 5; stroke-linecap: round; }
      .h-ring-b-inner { fill: none; stroke: #6a9a4a; stroke-width: 3; stroke-linecap: round; }
      .v-infill { fill: #7a9060; stroke: #5a7040; stroke-width: 1; }
      .behind { opacity: 0.35; }
      .callout-line { stroke: #555; stroke-width: 0.8; fill: none; }
      .callout-bg { fill: white; stroke: #ddd; stroke-width: 1; rx: 4; }
    </style>
  </defs>

  <!-- Title -->
  <text x="380" y="24" text-anchor="middle" class="title">Wattle Weave Pattern â€” Detail View</text>
  <text x="380" y="42" text-anchor="middle" class="label-sm">Showing 4 arch poles, 3 horizontal rings, and vertical infill</text>

  <!-- This shows a "flattened" section of the dome wall, viewed from outside -->
  <!-- 4 vertical arch poles, 3 horizontal rings weaving in/out -->

  <!-- Background panel -->
  <rect x="60" y="60" width="520" height="350" rx="4" fill="#faf8f5" stroke="#ddd" stroke-width="1"/>

  <!-- ===== ARCH POLES (vertical, structural) ===== -->
  <!-- Pole A at x=130 -->
  <rect x="122" y="60" width="16" height="350" class="arch-pole" rx="3"/>
  <!-- Pole B at x=250 -->
  <rect x="242" y="60" width="16" height="350" class="arch-pole" rx="3"/>
  <!-- Pole C at x=370 -->
  <rect x="362" y="60" width="16" height="350" class="arch-pole" rx="3"/>
  <!-- Pole D at x=490 -->
  <rect x="482" y="60" width="16" height="350" class="arch-pole" rx="3"/>

  <!-- ===== HORIZONTAL RING 1 (y=145) ===== -->
  <!-- Pattern: in front of A, behind B, in front of C, behind D -->
  <!-- Segments BEHIND poles (draw first) -->
  <line x1="250" y1="145" x2="370" y2="145" class="h-ring-a behind"/>
  <line x1="250" y1="145" x2="370" y2="145" class="h-ring-a-inner behind"/>
  <!-- The pole covers the transition -->
  <!-- Segments IN FRONT of poles -->
  <line x1="60" y1="145" x2="250" y2="145" class="h-ring-a"/>
  <line x1="60" y1="145" x2="250" y2="145" class="h-ring-a-inner"/>
  <line x1="370" y1="145" x2="580" y2="145" class="h-ring-a"/>
  <line x1="370" y1="145" x2="580" y2="145" class="h-ring-a-inner"/>

  <!-- ===== HORIZONTAL RING 2 (y=245) ===== -->
  <!-- Pattern REVERSED: behind A, in front of B, behind C, in front of D -->
  <!-- Segments BEHIND poles -->
  <line x1="60" y1="245" x2="250" y2="245" class="h-ring-b behind"/>
  <line x1="60" y1="245" x2="250" y2="245" class="h-ring-b-inner behind"/>
  <line x1="370" y1="245" x2="580" y2="245" class="h-ring-b behind"/>
  <line x1="370" y1="245" x2="580" y2="245" class="h-ring-b-inner behind"/>
  <!-- Segments IN FRONT -->
  <line x1="250" y1="245" x2="370" y2="245" class="h-ring-b"/>
  <line x1="250" y1="245" x2="370" y2="245" class="h-ring-b-inner"/>

  <!-- ===== HORIZONTAL RING 3 (y=345) ===== -->
  <!-- Pattern same as Ring 1: in front of A, behind B, in front of C, behind D -->
  <line x1="250" y1="345" x2="370" y2="345" class="h-ring-a behind"/>
  <line x1="250" y1="345" x2="370" y2="345" class="h-ring-a-inner behind"/>
  <line x1="60" y1="345" x2="250" y2="345" class="h-ring-a"/>
  <line x1="60" y1="345" x2="250" y2="345" class="h-ring-a-inner"/>
  <line x1="370" y1="345" x2="580" y2="345" class="h-ring-a"/>
  <line x1="370" y1="345" x2="580" y2="345" class="h-ring-a-inner"/>

  <!-- ===== VERTICAL INFILL between Ring 1 and Ring 2 ===== -->
  <!-- Between poles A and B (x=130 to x=250), several vertical sticks -->
  <!-- These weave: behind ring 1, in front of ring 2 (alternating) -->
  <!-- Infill stick 1 at x=160: behind R1 (faint at y=145), in front of R2 (solid at y=245) -->
  <rect x="157" y="145" width="6" height="100" rx="2" class="v-infill" opacity="0.4"/>
  <!-- Infill stick 2 at x=185: in front of R1, behind R2 -->
  <rect x="182" y="145" width="6" height="100" rx="2" class="v-infill"/>
  <!-- Infill stick 3 at x=210: behind R1, in front of R2 -->
  <rect x="207" y="145" width="6" height="100" rx="2" class="v-infill" opacity="0.4"/>

  <!-- Between poles B and C (x=250 to x=370) -->
  <rect x="277" y="145" width="6" height="100" rx="2" class="v-infill"/>
  <rect x="307" y="145" width="6" height="100" rx="2" class="v-infill" opacity="0.4"/>
  <rect x="337" y="145" width="6" height="100" rx="2" class="v-infill"/>

  <!-- Between poles C and D (x=370 to x=490) -->
  <rect x="397" y="145" width="6" height="100" rx="2" class="v-infill" opacity="0.4"/>
  <rect x="427" y="145" width="6" height="100" rx="2" class="v-infill"/>
  <rect x="457" y="145" width="6" height="100" rx="2" class="v-infill" opacity="0.4"/>

  <!-- ===== VERTICAL INFILL between Ring 2 and Ring 3 ===== -->
  <!-- Between poles A and B -->
  <rect x="157" y="245" width="6" height="100" rx="2" class="v-infill"/>
  <rect x="182" y="245" width="6" height="100" rx="2" class="v-infill" opacity="0.4"/>
  <rect x="207" y="245" width="6" height="100" rx="2" class="v-infill"/>

  <!-- Between poles B and C -->
  <rect x="277" y="245" width="6" height="100" rx="2" class="v-infill" opacity="0.4"/>
  <rect x="307" y="245" width="6" height="100" rx="2" class="v-infill"/>
  <rect x="337" y="245" width="6" height="100" rx="2" class="v-infill" opacity="0.4"/>

  <!-- Between poles C and D -->
  <rect x="397" y="245" width="6" height="100" rx="2" class="v-infill"/>
  <rect x="427" y="245" width="6" height="100" rx="2" class="v-infill" opacity="0.4"/>
  <rect x="457" y="245" width="6" height="100" rx="2" class="v-infill"/>

  <!-- ===== CALLOUT LABELS ===== -->
  <!-- Arch pole label -->
  <rect x="600" y="78" width="145" height="44" rx="4" fill="white" stroke="#ddd" stroke-width="1"/>
  <text x="672" y="96" text-anchor="middle" class="label" style="font-weight:600;">Arch Pole</text>
  <text x="672" y="112" text-anchor="middle" class="label-sm">8-10cm dia, structural</text>
  <line x1="600" y1="100" x2="498" y2="100" class="callout-line"/>

  <!-- Horizontal ring label -->
  <rect x="600" y="136" width="145" height="44" rx="4" fill="white" stroke="#ddd" stroke-width="1"/>
  <text x="672" y="154" text-anchor="middle" class="label" style="font-weight:600;">Horizontal Ring</text>
  <text x="672" y="170" text-anchor="middle" class="label-sm">5-7cm dia, weaves in/out</text>
  <line x1="600" y1="155" x2="580" y2="145" class="callout-line"/>

  <!-- Vertical infill label -->
  <rect x="600" y="198" width="145" height="44" rx="4" fill="white" stroke="#ddd" stroke-width="1"/>
  <text x="672" y="216" text-anchor="middle" class="label" style="font-weight:600;">Vertical Infill</text>
  <text x="672" y="232" text-anchor="middle" class="label-sm">3-5cm dia, 10-15cm apart</text>
  <line x1="600" y1="220" x2="433" y2="195" class="callout-line"/>

  <!-- Weave pattern explanation -->
  <rect x="600" y="276" width="145" height="68" rx="4" fill="#e8f5e9" stroke="#4caf50" stroke-width="1"/>
  <text x="672" y="294" text-anchor="middle" class="label" style="font-weight:600; font-size:11px;">Alternating Pattern</text>
  <text x="672" y="310" text-anchor="middle" class="label-sm" style="font-size:10px;">Each ring reverses</text>
  <text x="672" y="324" text-anchor="middle" class="label-sm" style="font-size:10px;">the in/out pattern</text>
  <text x="672" y="338" text-anchor="middle" class="label-sm" style="font-size:10px;">of the one below it</text>

  <!-- In front / behind legend -->
  <rect x="600" y="365" width="145" height="44" rx="4" fill="white" stroke="#ddd" stroke-width="1"/>
  <line x1="612" y1="380" x2="645" y2="380" stroke="#1a2e1a" stroke-width="4"/>
  <text x="650" y="384" class="label-sm">= in front</text>
  <line x1="612" y1="398" x2="645" y2="398" stroke="#1a2e1a" stroke-width="4" opacity="0.35"/>
  <text x="650" y="402" class="label-sm">= behind</text>

  <!-- Ring labels on left -->
  <text x="45" y="149" text-anchor="end" class="label-sm" style="font-weight:600;">Ring 1</text>
  <text x="45" y="249" text-anchor="end" class="label-sm" style="font-weight:600;">Ring 2</text>
  <text x="45" y="349" text-anchor="end" class="label-sm" style="font-weight:600;">Ring 3</text>

  <!-- Spacing annotation -->
  <line x1="50" y1="145" x2="50" y2="245" stroke="#c9a227" stroke-width="1"/>
  <line x1="45" y1="145" x2="55" y2="145" stroke="#c9a227" stroke-width="1"/>
  <line x1="45" y1="245" x2="55" y2="245" stroke="#c9a227" stroke-width="1"/>
  <text x="36" y="198" text-anchor="end" class="label-sm" style="fill:#c9a227; font-size:10px;">~50cm</text>
</svg>

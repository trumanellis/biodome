<!--
    BioDome Unified Navigation Component

    To integrate into existing pages:
    1. Add this at the top of your <body> tag
    2. Include the CSS in your <head> or inline
    3. Add the JavaScript before closing </body>
-->

<style>
    /* BioDome Unified Navigation */
    .biodome-nav {
        position: sticky;
        top: 0;
        z-index: 1000;
        background: var(--forest-mid, #2d4a2d);
        box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    }

    .biodome-nav-inner {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .biodome-nav-brand {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 16px 0;
        text-decoration: none;
    }

    .biodome-nav-logo {
        font-size: 1.5rem;
    }

    .biodome-nav-brand-text {
        display: flex;
        flex-direction: column;
    }

    .biodome-nav-brand-name {
        font-family: 'Libre Baskerville', 'Playfair Display', Georgia, serif;
        font-size: 1.1rem;
        font-weight: 700;
        color: white;
        line-height: 1.2;
    }

    .biodome-nav-brand-tagline {
        font-size: 0.65rem;
        color: rgba(255,255,255,0.6);
        text-transform: uppercase;
        letter-spacing: 0.15em;
    }

    .biodome-nav-toggle {
        display: none;
        background: none;
        border: none;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        padding: 8px;
    }

    .biodome-nav-menu {
        display: flex;
        gap: 8px;
        align-items: center;
        list-style: none;
        margin: 0;
        padding: 0;
    }

    .biodome-nav-item {
        position: relative;
    }

    .biodome-nav-link {
        display: block;
        color: rgba(255,255,255,0.8);
        text-decoration: none;
        padding: 16px 14px;
        font-size: 0.9rem;
        font-weight: 500;
        white-space: nowrap;
        transition: color 0.2s, background 0.2s;
        border-radius: 4px;
    }

    .biodome-nav-link:hover {
        color: white;
        background: rgba(255,255,255,0.1);
    }

    .biodome-nav-link.active {
        color: #c9a227;
        background: rgba(201, 162, 39, 0.15);
    }

    /* Dropdown styles */
    .biodome-nav-dropdown {
        position: absolute;
        top: 100%;
        left: 0;
        background: var(--forest-dark, #1a2e1a);
        min-width: 220px;
        border-radius: 6px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        opacity: 0;
        visibility: hidden;
        transform: translateY(-10px);
        transition: opacity 0.3s, transform 0.3s, visibility 0.3s;
        padding: 8px 0;
        margin-top: 4px;
    }

    .biodome-nav-item:hover .biodome-nav-dropdown {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }

    .biodome-nav-dropdown-link {
        display: flex;
        align-items: center;
        gap: 10px;
        color: rgba(255,255,255,0.85);
        text-decoration: none;
        padding: 10px 16px;
        font-size: 0.875rem;
        transition: background 0.2s, color 0.2s;
    }

    .biodome-nav-dropdown-link:hover {
        background: rgba(255,255,255,0.1);
        color: white;
    }

    .biodome-nav-dropdown-icon {
        font-size: 1.1rem;
    }

    .biodome-nav-dropdown-text {
        display: flex;
        flex-direction: column;
    }

    .biodome-nav-dropdown-name {
        font-weight: 600;
    }

    .biodome-nav-dropdown-desc {
        font-size: 0.75rem;
        color: rgba(255,255,255,0.5);
    }

    .biodome-nav-arrow {
        font-size: 0.65rem;
        margin-left: 4px;
        opacity: 0.6;
    }

    /* Mobile styles */
    @media (max-width: 968px) {
        .biodome-nav-toggle {
            display: block;
        }

        .biodome-nav-menu {
            position: fixed;
            top: 0;
            right: 0;
            height: 100vh;
            width: 300px;
            max-width: 85vw;
            background: var(--forest-dark, #1a2e1a);
            flex-direction: column;
            align-items: stretch;
            padding: 80px 0 20px;
            gap: 0;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            overflow-y: auto;
            box-shadow: -4px 0 20px rgba(0,0,0,0.3);
        }

        .biodome-nav-menu.open {
            transform: translateX(0);
        }

        .biodome-nav-link {
            padding: 14px 20px;
            border-radius: 0;
        }

        .biodome-nav-dropdown {
            position: static;
            opacity: 1;
            visibility: visible;
            transform: none;
            box-shadow: none;
            background: rgba(0,0,0,0.2);
            margin: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
            padding: 0;
        }

        .biodome-nav-item.open .biodome-nav-dropdown {
            max-height: 500px;
            padding: 8px 0;
        }

        .biodome-nav-item.open .biodome-nav-arrow {
            transform: rotate(180deg);
        }

        .biodome-nav-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            color: white;
            font-size: 1.8rem;
            cursor: pointer;
            padding: 4px;
            line-height: 1;
        }
    }
</style>

<nav class="biodome-nav">
    <div class="biodome-nav-inner">
        <a href="index.html" class="biodome-nav-brand">
            <span class="biodome-nav-logo">ðŸŒ¿</span>
            <div class="biodome-nav-brand-text">
                <span class="biodome-nav-brand-name">Regenerative BioDome</span>
                <span class="biodome-nav-brand-tagline">Turning Invasive Trees Into Fire-Resistant Homes</span>
            </div>
        </a>

        <button class="biodome-nav-toggle" aria-label="Toggle menu">â˜°</button>

        <ul class="biodome-nav-menu">
            <button class="biodome-nav-close" aria-label="Close menu">Ã—</button>

            <li class="biodome-nav-item">
                <a href="index.html" class="biodome-nav-link">Home</a>
            </li>

            <li class="biodome-nav-item">
                <a href="#" class="biodome-nav-link" onclick="return false;">
                    Standard BioDome <span class="biodome-nav-arrow">â–¼</span>
                </a>
                <div class="biodome-nav-dropdown">
                    <a href="The Regenerative BioDome â€” Complete Build Guide.html" class="biodome-nav-dropdown-link">
                        <span class="biodome-nav-dropdown-icon">ðŸ“–</span>
                        <span class="biodome-nav-dropdown-text">
                            <span class="biodome-nav-dropdown-name">Build Guide</span>
                            <span class="biodome-nav-dropdown-desc">Complete instructions</span>
                        </span>
                    </a>
                    <a href="biodome_viewer.html" class="biodome-nav-dropdown-link">
                        <span class="biodome-nav-dropdown-icon">ðŸ”®</span>
                        <span class="biodome-nav-dropdown-text">
                            <span class="biodome-nav-dropdown-name">3D Viewer</span>
                            <span class="biodome-nav-dropdown-desc">Interactive model</span>
                        </span>
                    </a>
                </div>
            </li>

            <li class="biodome-nav-item">
                <a href="#" class="biodome-nav-link" onclick="return false;">
                    Terraced BioDome <span class="biodome-nav-arrow">â–¼</span>
                </a>
                <div class="biodome-nav-dropdown">
                    <a href="The Terraced BioDome â€” Design Guide.html" class="biodome-nav-dropdown-link">
                        <span class="biodome-nav-dropdown-icon">ðŸ“–</span>
                        <span class="biodome-nav-dropdown-text">
                            <span class="biodome-nav-dropdown-name">Design Guide</span>
                            <span class="biodome-nav-dropdown-desc">Hillside adaptation</span>
                        </span>
                    </a>
                    <a href="biodome_terraced_viewer.html" class="biodome-nav-dropdown-link">
                        <span class="biodome-nav-dropdown-icon">ðŸ”®</span>
                        <span class="biodome-nav-dropdown-text">
                            <span class="biodome-nav-dropdown-name">3D Viewer</span>
                            <span class="biodome-nav-dropdown-desc">Interactive model</span>
                        </span>
                    </a>
                </div>
            </li>

            <li class="biodome-nav-item">
                <a href="#" class="biodome-nav-link" onclick="return false;">
                    Solar Pod <span class="biodome-nav-arrow">â–¼</span>
                </a>
                <div class="biodome-nav-dropdown">
                    <a href="The Regenerative Solar Pod â€” Design Guide.html" class="biodome-nav-dropdown-link">
                        <span class="biodome-nav-dropdown-icon">ðŸ“–</span>
                        <span class="biodome-nav-dropdown-text">
                            <span class="biodome-nav-dropdown-name">Design Guide</span>
                            <span class="biodome-nav-dropdown-desc">Passive solar design</span>
                        </span>
                    </a>
                    <a href="biodome_solar_viewer.html" class="biodome-nav-dropdown-link">
                        <span class="biodome-nav-dropdown-icon">ðŸ”®</span>
                        <span class="biodome-nav-dropdown-text">
                            <span class="biodome-nav-dropdown-name">3D Viewer</span>
                            <span class="biodome-nav-dropdown-desc">Interactive model</span>
                        </span>
                    </a>
                </div>
            </li>
        </ul>
    </div>
</nav>

<script>
    // BioDome Navigation JavaScript
    (function() {
        const toggle = document.querySelector('.biodome-nav-toggle');
        const menu = document.querySelector('.biodome-nav-menu');
        const close = document.querySelector('.biodome-nav-close');
        const dropdownParents = document.querySelectorAll('.biodome-nav-item');

        // Mobile menu toggle
        if (toggle) {
            toggle.addEventListener('click', () => {
                menu.classList.add('open');
            });
        }

        if (close) {
            close.addEventListener('click', () => {
                menu.classList.remove('open');
            });
        }

        // Close menu when clicking outside
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.biodome-nav-inner') && menu.classList.contains('open')) {
                menu.classList.remove('open');
            }
        });

        // Mobile dropdown toggle
        dropdownParents.forEach(item => {
            const link = item.querySelector('.biodome-nav-link');
            const hasDropdown = item.querySelector('.biodome-nav-dropdown');

            if (hasDropdown && link) {
                link.addEventListener('click', (e) => {
                    if (window.innerWidth <= 968) {
                        e.preventDefault();
                        item.classList.toggle('open');

                        // Close other dropdowns
                        dropdownParents.forEach(other => {
                            if (other !== item) {
                                other.classList.remove('open');
                            }
                        });
                    }
                });
            }
        });

        // Highlight active page
        const currentPage = window.location.pathname.split('/').pop() || 'index.html';
        document.querySelectorAll('.biodome-nav-link, .biodome-nav-dropdown-link').forEach(link => {
            if (link.getAttribute('href') === currentPage) {
                link.classList.add('active');
            }
        });
    })();
</script>
